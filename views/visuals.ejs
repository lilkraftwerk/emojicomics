<!DOCTYPE html>
<html>
<head>

<!--
 _______   _____ ______   ________        ___  ___
|\  ___ \ |\   _ \  _   \|\   __  \      |\  \|\  \
\ \   __/|\ \  \\\__\ \  \ \  \|\  \     \ \  \ \  \
 \ \  \_|/_\ \  \\|__| \  \ \  \\\  \  __ \ \  \ \  \
  \ \  \_|\ \ \  \    \ \  \ \  \\\  \|\  \\_\  \ \  \
   \ \_______\ \__\    \ \__\ \_______\ \________\ \__\
    \|_______|\|__|     \|__|\|_______|\|________|\|__|

vision lol

-->


<meta name="description" content="EmojiVision: leading Emoji researchers and consultants">
<meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1, user-scalable=no">
<meta charset="utf-8">

<script src="//ajax.googleapis.com/ajax/libs/jquery/1.9.1/jquery.min.js"></script>
<script src="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.1/js/bootstrap.min.js"></script>


<link href='https://fonts.googleapis.com/css?family=Lato' rel='stylesheet' type='text/css'>
<link href='https://fonts.googleapis.com/css?family=Pacifico' rel='stylesheet' type='text/css'>
<link href='https://fonts.googleapis.com/css?family=Inconsolata:400,700' rel='stylesheet' type='text/css'>
<link href='https://fonts.googleapis.com/css?family=Open+Sans' rel='stylesheet' type='text/css'>

<link rel="stylesheet" type="text/css" href="/css/main.css">
<link rel="stylesheet" type="text/css" href="/css/slick.css">
<link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.1/css/bootstrap.min.css">


<script src="/socket.io/socket.io.js"></script>
<script>

io = io.connect()


var ranges = [
  '\ud83c[\udf00-\udfff]', // U+1F300 to U+1F3FF
  '\ud83d[\udc00-\ude4f]', // U+1F400 to U+1F64F
  '\ud83d[\ude80-\udeff]'  // U+1F680 to U+1F6FF
];

var regex = new RegExp(ranges.join('|'), 'g')




io.on('tweet', function(data) {

  var matches = data.tweet.text.match(regex)
  $('#mojis').append(matches.join(" "))
  if ($('#mojis').height() >  window.innerHeight - 100) {
    $('#mojis').html('')
}

})

function formatTweet(data){
  return '<img class="profile" src="' + data.user.profile_image_url + '"><span class="screenname">@' + data.user.screen_name +
  '</span><p>' + data.text + '</p>'
}
</script>


<title>EmojiVision</title>
</head>

<body>
  <% include /partials/header %>

  <div class="container" id="tweets">
    <h3>Realtime Emoji Visualization Module (use Safari or Firefox)</h3>
    <div id="mojis"></div>

  </div>

</body>
</html>